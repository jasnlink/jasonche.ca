(e=>{let t=Symbol(),r=Symbol(),n=Symbol(),i=Symbol(),s=Symbol(),o=Symbol(),a=Symbol(),l=Symbol(),$=new Map,c={},d=new WeakMap,u=[],p={},g=new Map,h=new Map,f={},m=new Map,y=new Map,w=e=>e.split(","),v=e=>{if(e=p.$libPath$+e,new URL(e).origin!=location.origin)throw"Invalid "+e;return e},S=w("clientWidth,clientHeight,clientTop,clientLeft,innerWidth,innerHeight,offsetWidth,offsetHeight,offsetTop,offsetLeft,outerWidth,outerHeight,pageXOffset,pageYOffset,scrollWidth,scrollHeight,scrollTop,scrollLeft"),b=w("childElementCount,children,firstElementChild,lastElementChild,nextElementSibling,previousElementSibling"),I=w("insertBefore,remove,removeChild,replaceChild"),x=w("className,width,height,hidden,innerHTML,innerText,textContent"),T=w("setAttribute,setAttributeNS,setProperty"),M=w("addEventListener,dispatchEvent,removeEventListener"),N=M.concat(T,w("add,observe,remove,unobserve")),E=/^[A-Z_]([A-Z0-9-]*[A-Z0-9])?$/,L=()=>{},C=e=>e.length,R=e=>{var t,r,n;try{let r=null===(t=null==e?void 0:e.constructor)||void 0===t?void 0:t.name;if(r)return r}catch(e){}try{let t=null===(n=null===(r=null==e?void 0:e.__zone_symbol__originalInstance)||void 0===r?void 0:r.constructor)||void 0===n?void 0:n.name;if(t)return t}catch(e){}return""},W=[],j=()=>Math.round(Math.random()*Number.MAX_SAFE_INTEGER).toString(36),O=(e,t,r)=>Object.defineProperty(e,t,{...r,configurable:!0}),k=(e,t)=>O(e,"name",{value:t}),A=(e,t,r)=>O(e.prototype,t,r),P=(e,t)=>Object.defineProperties(e.prototype,t),H=(e,t,r)=>A(e,t,{value:r,writable:!0}),D=(e,t)=>t in e[o],_=(e,t)=>e[o][t],U=(e,t,r)=>e[o][t]=r,B=(e,t)=>((t=d.get(e))||(d.set(e,t=j()),c[t]=e),t),F=(e,t,r,n,i,s)=>{if(!(i=$.get(t))&&r&&f[e]){let o=$.get(s||"");i=f[e].$createNode$(r,t,n,o),$.set(t,i)}return i},G=(e,t)=>H(e,"nodeType",t),z=(e,t)=>t.map(t=>A(e,t,{get(){let e=q(this,t),r=y.get(e);return r||(r=ew(this,[t]),y.set(e,r)),r}})),q=(e,n,i)=>[e[t],e[r],n,...(i||W).map(e=>String(e&&e[t]?e[r]:e))].join("."),J=(e,t)=>w(t).map(t=>A(e,t,{get(){return D(this,t)||U(this,t,ew(this,[t])),_(this,t)},set(e){_(this,t)!==e&&ev(this,[t],e),U(this,t,e)}})),V=e=>S.map(t=>A(e,t,{get(){let e=m.get(q(this,t));if("number"==typeof e)return e;let r=ew(this,[t],S);return r&&"object"==typeof r?(Object.entries(r).map(([e,t])=>m.set(q(this,e),t)),r[t]):r}})),X=(e,t)=>t.map(t=>{e.prototype[t]=function(...e){let r=q(this,t,e),n=m.get(r);return n||(n=eS(this,[t],e),m.set(r,n)),n}}),Z=(e,n,i,s,o)=>void 0!==i&&(o=typeof i)?"string"===o||"boolean"===o||"number"===o||null==i?[0,i]:"function"===o?[4,{$winId$:e,$instanceId$:n,$refId$:B(i)}]:(s=s||new Set,Array.isArray(i))?s.has(i)?[1,[]]:s.add(i)&&[1,i.map(t=>Z(e,n,t,s))]:"object"===o?i[r]?[3,[i[t],i[r]]]:i instanceof Event?[5,K(e,n,i,!1,s)]:Y&&i instanceof TrustedHTML?[0,i.toString()]:i instanceof ArrayBuffer?[8,i]:ArrayBuffer.isView(i)?[9,i.buffer,R(i)]:[2,K(e,n,i,!0,s)]:void 0:i,Y="undefined"!=typeof TrustedHTML,K=(e,t,r,n,i,s,o,a)=>{if(s={},!i.has(r))for(o in i.add(r),r)a=r[o],(n||"function"!=typeof a)&&(s[o]=Z(e,t,a,i));return s},Q=(e,n)=>e?Z(e[t],e[r],n):[0,n],ee=(e,t,r,n,i,s,o,a)=>{if(n){if(i=n[0],s=n[1],0===i||11===i||12===i)return s;if(4===i)return er(r,s);if(6===i)return e&&r.length>0?(...t)=>eS(f[e].$window$,r,t,1):L;if(3===i)return et(s);if(7===i)return new ei(s.map(et));if(10===i)return new es(s);if(1===i)return s.map(n=>ee(e,t,r,n));if(14===i)return new en(s);for(a in o={},s)o[a]=ee(e,t,[...r,a],s[a]);if(13===i)return new f[e].$window$.CSSStyleDeclaration(e,t,r,o);if(5===i){if("message"===o.type&&o.origin){let e,t=JSON.stringify(o.data),r=u.find(e=>e.$data$===t);r&&(e=f[r.$winId$])&&(o.source=e.$window$,o.origin=e.$location$.origin)}return new Proxy(new Event(o.type,o),{get:(e,t)=>t in o?o[t]:"function"==typeof e[String(t)]?L:e[String(t)]})}if(2===i)return o}},et=([e,t,r,n])=>t===e&&f[e]?f[e].$window$:F(e,t,r,void 0,void 0,n),er=(e,{$winId$:t,$instanceId$:r,$nodeName$:n,$refId$:i})=>(c[i]||d.set(c[i]=function(...i){let s=F(t,r,n);return eS(s,e,i)},i),c[i]);class en extends Error{constructor(e){super(e.message),this.name=e.name,this.message=e.message,this.stack=e.stack}}class ei{constructor(e){(this._=e).map((e,t)=>this[t]=e)}entries(){return this._.entries()}forEach(e,t){this._.map(e,t)}item(e){return this[e]}keys(){return this._.keys()}get length(){return C(this._)}values(){return this._.values()}[Symbol.iterator](){return this._[Symbol.iterator]()}}let es=class{constructor(e){this.name=e[0],this.value=e[1]}get nodeName(){return this.name}get nodeType(){return 2}},eo=(e,t,r)=>console.warn(`Partytown unable to ${e} cross-origin ${t}: `+r.$location$),ea=(t,r)=>{try{let n,i;let s=p.$config$;if(s.logStackTraces){let e=Error().stack.split("\n"),r=e.findIndex(e=>e.includes("logWorker"));t+="\n"+e.slice(r+1).join("\n")}r?(n=`Worker (${e$(r)}) ðŸŽ‰`,i=ec(r)):(n=e.name,i="#9844bf"),p.lastLog!==t&&(p.lastLog=t,console.debug.apply(console,[`%c${n}`,`background: ${i}; color: white; padding: 2px 3px; border-radius: 2px; font-size: 0.8em;`,t]))}catch(e){}},el=[],e$=e=>(el.includes(e)||el.push(e),el.indexOf(e)+1),ec=e=>{let t=["#00309e","#ea3655","#eea727"],r=e$(e)-1;return t[r]||t[t.length-1]},ed=(e,t)=>{let r="";if(e){let t=R(e);if("Window"===t)r="";else if("string"==typeof e[n]){let t=e[n];r="#text"===t?"textNode.":"#comment"===t?"commentNode.":"#document"===t?"document.":"html"===t?"doctype.":t.toLowerCase()+"."}else r="nodeType"in e&&2===e.nodeType?"attributes.":"CanvasRenderingContext2D"===t?"context2D.":"CanvasRenderingContextWebGL"===t?"contextWebGL.":"CSSStyleDeclaration"===t?"style.":"MutationObserver"===t?"mutationObserver.":"NamedNodeMap"===t?"namedNodeMap.":"ResizeObserver"===t?"resizeObserver.":t.substring(0,1).toLowerCase()+t.substring(1)+".";e[s]&&e[s].length&&(r+=[...e[s]].join(".")+".")}if(t.length>1){let e=t.slice(0,t.length-1),n=t[t.length-1];if(!isNaN(n))return r+`${e.join(".")}[${n}]`}return r+t.join(".")},eu=(e,t)=>{let i=typeof t;if(void 0===t)return"undefined";if("boolean"===i||"number"===i||null==t)return JSON.stringify(t);if("string"===i)return e.includes("cookie")?JSON.stringify(t.slice(0,10)+"..."):JSON.stringify(t.length>50?t.slice(0,40)+"...":t);if(Array.isArray(t))return`[${t.map(eu).join(", ")}]`;if("object"===i){let i=t[r],s=R(t);if("string"==typeof i){if("Window"===s)return"window";if("string"==typeof t[n]){if(1===t.nodeType)return`<${t[n].toLowerCase()}>`;if(10===t.nodeType)return`<!DOCTYPE ${t[n]}>`;if(t.nodeType<=11)return t[n]}return"\xaf\\_(ãƒ„)_/\xaf instance obj"}return t[Symbol.iterator]?`[${Array.from(t).map(t=>eu(e,t)).join(", ")}]`:"value"in t?"string"==typeof t.value?`"${t.value}"`:ep(t.value):ep(t)}return"object"==typeof t&&t&&t.then?"Promise":"function"===i?`Æ’() ${t.name||""}`.trim():`\xaf\\_(ãƒ„)_/\xaf ${String(t)}`.trim()},ep=e=>{let t=[];for(let r in e){let n=e[r],i=typeof n;"string"===i?t.push(`${r}: "${n}"`):"function"===i?t.push(`${r}: Æ’`):Array.isArray(i)?t.push(`${r}: [..]`):"object"===i&&n?t.push(`${r}: {..}`):t.push(`${r}: ${String(n)}`)}let r=t.join(", ");return r.length>200&&(r=r.substring(0,200)+".."),`{ ${r} }`},eg=(e,r)=>{(p.$config$.logGetters||p.$config$.logSetters)&&ea(`Dimension cache cleared from style.${r} setter`,e[t])},eh=(e,r)=>{(p.$config$.logGetters||p.$config$.logCalls)&&ea(`Dimension cache cleared from method call ${r}()`,e[t])},ef=[],em=(e,n,i,o,a,l)=>{if(e[s]){if(ef.push({$winId$:e[t],$instanceId$:e[r],$applyPath$:[...e[s],...n],$assignInstanceId$:o,$groupedGetters$:a}),ef[C(ef)-1].$debug$=((e,t,r)=>{let n=ed(e,t);return 1===r?n+=" (blocking)":2===r?n+=" (non-blocking)":3===r&&(n+=" (non-blocking, no-side-effect)"),n.trim()})(e,n,i),l&&3!==i&&console.error("buffer must be sent NonBlockingNoSideEffect"),3===i)p.$postMessage$([12,{$msgId$:j(),$tasks$:[...ef]}],l?[l instanceof ArrayBuffer?l:l.buffer]:void 0),ef.length=0;else if(1===i)return ey(!0);p.$asyncMsgTimer$=setTimeout(ey,20)}},ey=e=>{if(clearTimeout(p.$asyncMsgTimer$),C(ef)){p.$config$.logMainAccess&&ea(`Main access, tasks sent: ${ef.length}`);let t=ef[C(ef)-1],r={$msgId$:j(),$tasks$:[...ef]};if(ef.length=0,e){let e=((e,t)=>{let r=new XMLHttpRequest;return r.open("POST",v("proxytown"),!1),r.send(JSON.stringify(t)),JSON.parse(r.responseText)})(0,r),n=e.$isPromise$,i=ee(t.$winId$,t.$instanceId$,t.$applyPath$,e.$rtnValue$);if(e.$error$){if(n)return Promise.reject(e.$error$);throw Error(e.$error$)}return n?Promise.resolve(i):i}p.$postMessage$([12,r])}},ew=(e,r,n,i)=>(p.$config$.get&&(i=p.$config$.get(eI(e,r)))!==a||(i=em(e,r,1,void 0,n),((e,r,n,i=!1,s=!1)=>{if(p.$config$.logGetters)try{let o=`Get ${ed(e,r)}, returned: ${eu(r,n)}${i?" (restricted to worker)":""}${s?" (grouped getter)":""}`;o.includes("Symbol(")||ea(o,e[t])}catch(e){}})(e,r,i,!1,!!n)),i),ev=(e,r,n,i)=>{if(p.$config$.set){if((i=p.$config$.set({value:n,prevent:l,...eI(e,r)}))===l)return;i!==a&&(n=i)}if(x.some(e=>r.includes(e))){var s;m.clear(),s=r[r.length-1],(p.$config$.logGetters||p.$config$.logSetters)&&ea(`Dimension cache cleared from setter "${s}"`,e[t])}r=[...r,Q(e,n),0],((e,r,n,i=!1)=>{if(p.$config$.logSetters)try{r=r.slice(0,r.length-2),ea(`Set ${ed(e,r)}, value: ${eu(r,n)}${i?" (restricted to worker)":""}`,e[t])}catch(e){}})(e,r,n),em(e,r,2)},eS=(e,r,n,i,s,o,l,$)=>{if(p.$config$.apply&&(l=p.$config$.apply({args:n,...eI(e,r)}))!==a)return l;if($=r[C(r)-1],r=[...r,Q(e,n)],i=i||(N.includes($)?2:1),"setAttribute"===$&&D(e,n[0]))U(e,n[0],n[1]);else if(I.includes($)){var c;m.clear(),y.clear(),c=$,(p.$config$.logGetters||p.$config$.logCalls)&&ea(`Dimension and DOM structure cache cleared from method call ${c}()`,e[t])}else T.includes($)&&(i=2,m.clear(),eh(e,$));return l=em(e,r,i,s,void 0,o),((e,r,n,i)=>{if(p.$config$.logCalls)try{r=r.slice(0,r.length-1),ea(`Call ${ed(e,r)}(${n.map(e=>eu(r,e)).join(", ")}), returned: ${eu(r,i)}`,e[t])}catch(e){}})(e,r,n,l),l},eb=(e,r,n)=>{((e,r,n)=>{if(p.$config$.logCalls)try{ea(`Construct new ${r}(${n.map(e=>eu([],e)).join(", ")})`,e[t])}catch(e){}})(e,r,n),em(e,[1,r,Q(e,n)],1)},eI=(e,r)=>({name:r.join("."),continue:a,nodeName:e[n],constructor:R(e),instance:e,window:f[e[t]].$window$}),ex=(e,t,r,n,i)=>{let s,o,a=t=>((t=r.get(e.origin))||r.set(e.origin,t=[]),t),l=e=>a().findIndex(t=>t[eT]===e),$={getItem:e=>(s=l(e))>-1?a()[s][eM]:null,setItem(r,o){(s=l(r))>-1?a()[s][eM]=o:a().push([r,o]),n?eS(e,[t,"setItem"],[r,o],2):eo("set",t,i)},removeItem(r){(s=l(r))>-1&&a().splice(s,1),n?eS(e,[t,"removeItem"],[r],2):eo("remove",t,i)},key:e=>(o=a()[e])?o[eT]:null,clear(){a().length=0,n?eS(e,[t,"clear"],W,2):eo("clear",t,i)},get length(){return a().length}};e[t]=new Proxy($,{get:(e,t)=>Reflect.has(e,t)?Reflect.get(e,t):e.getItem(t),set:(e,t,r)=>(e.setItem(t,r),!0),has:(e,t)=>!!Reflect.has(e,t)||"string"==typeof t&&null!==e.getItem(t),deleteProperty:(e,t)=>(e.removeItem(t),!0)})},eT=0,eM=1,eN=(e,t,r)=>{e[r]=k(class extends t{constructor(e,t,r,i){return super(e,t,r,i||{}),new Proxy(this,{get:(e,t)=>e[t]?e[t]:(e[t]||"string"!=typeof t||e[n][t]||(e[n][t]=ew(e,[t])),e[n][t]),set:(e,t,r)=>(e[n][t]=r,ev(e,[t],r),eg(e,t),m.clear(),!0)})}setProperty(...e){this[n][e[0]]=e[1],eS(this,["setProperty"],e,2),eg(this,e[0]),m.clear()}getPropertyValue(e){return this[e]}removeProperty(e){let t=this[n][e];return eS(this,["removeProperty"],[e],2),eg(this,e),m.clear(),this[n][e]=void 0,t}},r)},eE=(e,t)=>{e[t]=k(class{constructor(e){this.ownerNode=e}get cssRules(){let e=this.ownerNode;return new Proxy({},{get(t,r){let n=String(r);return"item"===n?t=>eC(e,t):"length"===n?eL(e).length:isNaN(n)?t[r]:eC(e,n)}})}insertRule(e,t){let r=eL(this.ownerNode);return(t=void 0===t?0:t)>=0&&t<=r.length&&(eS(this.ownerNode,["sheet","insertRule"],[e,t],2),r.splice(t,0,0)),eh(this.ownerNode,"insertRule"),m.clear(),t}deleteRule(e){eS(this.ownerNode,["sheet","deleteRule"],[e],2),eL(this.ownerNode).splice(e,1),eh(this.ownerNode,"deleteRule"),m.clear()}get type(){return"text/css"}},t);let r={sheet:{get(){return new e[t](this)}}};P(e.HTMLStyleElement,r)},eL=(e,t)=>((t=_(e,2))||(t=ew(e,["sheet","cssRules"]),U(e,2,t)),t),eC=(e,t,r)=>(0===(r=eL(e))[t]&&(r[t]=ew(e,["sheet","cssRules",parseInt(t,10)])),r[t]),eR=(e,t,r,n,i)=>{try{p.$config$.logScriptExecution&&ea(`Execute script: ${r.substring(0,100).split("\n").map(e=>e.trim()).join(" ").trim().substring(0,60)}...`,n),e.$currentScriptId$=t,eW(e,r)}catch(e){console.error(r,e),i=String(e.stack||e)}return e.$currentScriptId$="",i},eW=(e,t,r)=>{e.$runWindowLoadEvent$=1,t=`with(this){${t.replace(/\bthis\b/g,(e,t,r)=>t>0&&"$"!==r[t-1]?"(thi$(this)?window:this)":e).replace(/\/\/# so/g,"//Xso")}
;function thi$(t){return t===this}};${(p.$config$.globalFns||[]).filter(e=>/[a-zA-Z_$][0-9a-zA-Z_$]*/.test(e)).map(e=>`(typeof ${e}=='function'&&(this.${e}=${e}))`).join(";")};`+(r?"\n//# sourceURL="+r:""),e.$isSameOrigin$||(t=t.replace(/.postMessage\(/g,`.postMessage('${e.$winId$}',`)),Function(t).call(e.$window$),e.$runWindowLoadEvent$=0},ej=(e,t,r)=>{(r=_(e,t))&&setTimeout(()=>r.map(e=>e({type:t})))},eO=(e,t,r,n,i,s)=>{for(n=e.$location$;!n.host&&(n=(e=f[e.$parentWinId$]).$location$,e.$winId$!==e.$parentWinId$););return(i=new URL(t||"",n),r&&p.$config$.resolveUrl&&(s=p.$config$.resolveUrl(i,n,r)))?s:i},ek=(e,t,r)=>eO(e,t,r)+"",eA=()=>`<script src="${v("partytown.js?v=0.8.0")}"></script>`,eP=e=>class{constructor(){this.s="",this.l=[],this.e=[],this.style={}}get src(){return this.s}set src(t){p.$config$.logImageRequests&&ea(`Image() request: ${ek(e,t,"image")}`,e.$winId$),this.s=t,fetch(ek(e,t,"image"),{mode:"no-cors",credentials:"include",keepalive:!0}).then(e=>{e.ok||0===e.status?this.l.map(e=>e({type:"load"})):this.e.map(e=>e({type:"error"}))},()=>this.e.forEach(e=>e({type:"error"})))}addEventListener(e,t){"load"===e&&this.l.push(t),"error"===e&&this.e.push(t)}get onload(){return this.l[0]}set onload(e){this.l=[e]}get onerror(){return this.e[0]}set onerror(e){this.e=[e]}},eH={addEventListener:{value(...e){let t=e[0],r=_(this,t)||[];r.push(e[1]),U(this,t,r)}},async:{get:L,set:L},defer:{get:L,set:L},onload:{get(){let e=_(this,"load");return e&&e[0]||null},set(e){U(this,"load",e?[e]:null)}},onerror:{get(){let e=_(this,"error");return e&&e[0]||null},set(e){U(this,"error",e?[e]:null)}},getAttribute:{value(e){return"src"===e?this.src:eS(this,["getAttribute"],[e])}},setAttribute:{value(e,t){eD.includes(e)?this[e]=t:eS(this,["setAttribute"],[e,t])}}},eD=w("src,type"),e_=(e,t)=>{let r={innerHTML:eU,innerText:eU,src:{get(){return _(this,4)||""},set(e){let r=ek(t,e,null),n=p.$config$;if(U(this,4,e=ek(t,e,"script")),ev(this,["src"],e),r!==e&&ev(this,["dataset","ptsrc"],r),this.type&&n.loadScriptsOnMainThread){let t=n.loadScriptsOnMainThread.some(t=>t===e);t&&ev(this,["type"],"text/javascript")}}},textContent:eU,type:{get(){return ew(this,["type"])},set(e){eB(e)||(U(this,5,e),ev(this,["type"],e))}},...eH};P(e,r)},eU={get(){let e=ew(this,["type"]);return eB(e)?_(this,3)||"":ew(this,["innerHTML"])},set(e){U(this,3,e)}},eB=e=>!e||"text/javascript"===e,eF=(e,i,s)=>{let o=p.$config$,a=k(class extends s{appendChild(e){return this.insertBefore(e,null)}get href(){}set href(e){}insertBefore(e,s){var a,l;let $=e[t]=this[t],c=e[r],d=e[n],u="SCRIPT"===d;if(u){let t=_(e,3),r=_(e,5);if(t){if(eB(r)){let r=e.id,n=r&&(null===(l=null===(a=o.loadScriptsOnMainThread)||void 0===a?void 0:a.includes)||void 0===l?void 0:l.call(a,r));if(n)ev(e,["type"],"text/javascript");else{let r=eR(i,c,t,$,"");ev(e,["type"],"text/partytown-x"),ev(e,["dataset",r?"pterror":"ptid"],r||c)}}ev(e,["innerHTML"],t)}}if(eS(this,["insertBefore"],[e,s],2),"IFRAME"===d){let t,r,n,s;let o=_(e,0);if(o&&o.startsWith("javascript:")){let e=o.split("javascript:")[1];eR(i,c,e,$,"")}n=0,(s=()=>{f[c]&&f[c].$isInitialized$&&!f[c].$isLoading$?(t=_(e,1)?"error":"load",(r=_(e,t))&&r.map(e=>e({type:t}))):n++>2e3?(r=_(e,"error"))&&r.map(e=>e({type:"error"})):setTimeout(s,9)})()}return u&&(ey(!0),p.$postMessage$([7,$])),e}get nodeName(){return"#s"===this[n]?"#document-fragment":this[n]}get nodeType(){return 3}get ownerDocument(){return i.$document$}},"Node");z(a,w("childNodes,firstChild,isConnected,lastChild,nextSibling,parentElement,parentNode,previousSibling")),e.Node=a},eG=w("AUDIO,CANVAS,VIDEO"),ez=w("Audio,MediaSource"),eq=(e,r,n)=>{let i={body:{get:()=>r.$body$},cookie:{get(){return r.$isSameOrigin$?ew(this,["cookie"]):(eo("get","cookie",r),"")},set(e){r.$isSameOrigin$?ev(this,["cookie"],e):eo("set","cookie",r)}},createElement:{value(e){if(e=e.toUpperCase(),!E.test(e))throw e+" not valid";let r="IFRAME"===e,n=this[t],i=(r?"f_":"")+j();eS(this,["createElement"],[e],2,i);let s=F(n,i,e);if(r){let e=e7({$winId$:i,$parentWinId$:n,$url$:"about:blank"},!0);e.$window$.fetch=fetch,ev(s,["srcdoc"],eA())}else if("SCRIPT"===e){let e=_(s,5);eB(e)&&ev(s,["type"],"text/partytown")}return s}},createElementNS:{value(e,r){let n=j(),i=F(this[t],n,r,e);return eS(this,["createElementNS"],[e,r],2,n),i}},createTextNode:{value(e){let r=this[t],n=j(),i=F(r,n,"#text");return eS(this,["createTextNode"],[e],2,n),i}},createEvent:{value:e=>new Event(e)},currentScript:{get(){return r.$currentScriptId$?F(this[t],r.$currentScriptId$,"SCRIPT"):null}},defaultView:{get:()=>n?null:r.$window$},documentElement:{get:()=>r.$documentElement$},getElementsByTagName:{value(e){return"BODY"===(e=e.toUpperCase())?[r.$body$]:"HEAD"===e?[r.$head$]:eS(this,["getElementsByTagName"],[e])}},head:{get:()=>r.$head$},images:{get(){return ew(this,["images"])}},implementation:{get(){return{hasFeature:()=>!0,createHTMLDocument:e=>{let t=j();eS(this,["implementation","createHTMLDocument"],[e],1,{$winId$:t});let n=e7({$winId$:t,$parentWinId$:t,$url$:r.$location$+"",$visibilityState$:"hidden"},!0,!0);return n.$document$}}}},location:{get:()=>r.$location$,set(e){r.$location$.href=e+""}},nodeType:{value:9},parentNode:{value:null},parentElement:{value:null},readyState:{value:"complete"},visibilityState:{get:()=>r.$visibilityState$||"visible"}};P(e,i),J(e,"compatMode,referrer,forms")},eJ=(e,t)=>{let r={parentElement:{get(){return this.parentNode}},parentNode:{get:()=>t.$documentElement$}};P(e,r)},eV=(e,t)=>{let r={localName:{get(){return this[n].toLowerCase()}},namespaceURI:{get(){return this[i]||"http://www.w3.org/1999/xhtml"}},nodeType:{value:1},tagName:{get(){return this[n]}}};P(e,r),z(e,b),J(e,"id"),V(t),X(t,w("getClientRects,getBoundingClientRect"))},eX=(e,t)=>{let r={};w("hash,host,hostname,href,origin,pathname,port,protocol,search").map(e=>{r[e]={get(){let r,n=_(this,4);return"string"!=typeof n&&(r=ew(this,["href"]),U(this,4,r),n=new URL(r)[e]),eO(t,n,null)[e]},set(r){let n;if("href"===e){if((e=>{try{return new URL(e),!0}catch(e){return!1}})(r))n=new URL(r);else{let e=t.$location$.href;(n=eO(t,e,null)).href=new URL(r+"",n.href)}}else(n=eO(t,this.href,null))[e]=r;U(this,4,n.href),ev(this,["href"],n.href)}}}),P(e,r)},eZ=(e,t)=>{let r={contentDocument:{get(){return e0(this).$document$}},contentWindow:{get(){return e0(this).$window$}},src:{get(){let e=_(this,0);return e&&e.startsWith("javascript:")?e:(e=e0(this).$location$.href).startsWith("about:")?"":e},set(e){if(e){if(e.startsWith("javascript:"))U(this,0,e);else if(!e.startsWith("about:")){let t,r=new XMLHttpRequest,n=e0(this);(n.$location$.href=e=ek(n,e,"iframe"),n.$isLoading$=1,U(this,1,void 0),r.open("GET",e,!1),r.send(),(t=r.status)>199&&t<300)?(ev(this,["srcdoc"],`<base href="${e}">`+r.responseText.replace(eK,(e,t)=>{let r;let n=[],i=!1;for(;r=eQ.exec(t);){let[e]=r;e.startsWith("type=")&&(i=!0,e=e.replace(/(application|text)\/javascript/,"text/partytown")),n.push(e)}return i||n.push('type="text/partytown"'),`<script ${n.join(" ")}>`})+eA()),ey(!0),p.$postMessage$([7,n.$winId$])):(U(this,1,t),n.$isLoading$=0)}}}},...eH};P(e,r)},eY="((?:\\w|-)+(?:=(?:(?:\\w|-)+|'[^']*'|\"[^\"]*\")?)?)",eK=RegExp(`<script\\s*((${eY}\\s*)*)>`,"mg"),eQ=RegExp(eY,"mg"),e0=e=>{let n=e[r];return f[n]||e7({$winId$:n,$parentWinId$:e[t],$url$:ew(e,["src"])||"about:blank"},!0),f[n]},e1=e=>{let t=(e,t)=>{let{a:r,b:n,c:i,d:s,e:o,f:a}=eS(e,[t],W);return new DOMMatrixReadOnly([r,n,i,s,o,a])},r={...e,getCTM:{value:function(){return t(this,"getCTM")}},getScreenCTM:{value:function(){return t(this,"getScreenCTM")}}};P(e,r)},e2=(e,t)=>{e.NamedNodeMap=k(class extends t{constructor(e,t,r){return super(e,t,r),new Proxy(this,{get(e,t){let r=e9[t];return r?r.bind(e,[t]):ew(e,[t])},set(e,t,r){let n=e9[t];if(n)throw Error("Can't set read-only property: "+String(t));return ev(e,[t],r),!0}})}},"NamedNodeMap")};function e3(e,...t){return eS(this,e,t,1)}let e9={getNamedItem:e3,getNamedItemNS:e3,item:e3,removeNamedItem:e3,removeNamedItemNS:e3,setNamedItem:e3,setNamedItemNS:e3},e4=(a,l,$,c,d,m)=>{let y,S,I,x;let T=class{constructor(e,l,$,c,d){this[t]=e||a,this[r]=l||y||j(),this[s]=$||[],this[n]=c||S,this[i]=d||I,this[o]=x&&x[o]||{},y=S=I=void 0}},N=k(class extends URL{assign(){ea("location.assign(), noop")}reload(){ea("location.reload(), noop")}replace(){ea("location.replace(), noop")}},"Location"),E=new N($),L=E.origin===p.$origin$||"about:blank"===E.origin,W=l===a,B={},q=()=>{let e,t,r=[];for(e in f)(t=f[e]).$parentWinId$!==a||t.$isTopWindow$||r.push(t);return r},Z=k(class extends T{constructor(){let n,i;super(a,a);let o=this,$=0,u=()=>{$||((p.$initWindowMedia$||(e.$bridgeToMedia$=[ew,ev,eS,eb,P,j,t,r,s],p.$importScripts$(v("partytown-media.js?v=0.8.0")),p.$initWindowMedia$=e.$bridgeFromMedia$,delete e.$bridgeFromMedia$),p.$initWindowMedia$)(T,K,B,o,ez),$=1)},f={},M=(e,t,r,n)=>{eG.includes(e)&&u();let i=f[e]?f[e]:e.includes("-")?f.UNKNOWN:f.I;return y=t,S=e,I=r,x=n,new i};if(o.Window=Z,o.name=name+`${e$(a)} (${a})`,eF(o,B,T),o.NodeList=k(ei,"NodeList"),e2(o,T),eN(o,T,"CSSStyleDeclaration"),((e,t,r)=>{e[r]=k(class extends t{now(){return performance.now()}},r)})(o,T,"Performance"),((e,t)=>{let r=new Map;e.customElements={define(n,i,s){r.set(n,i),t[n.toUpperCase()]=i;let o=[i.name,i.observedAttributes];eS(e,["customElements","define"],[n,o,s])},get:t=>r.get(t)||eS(e,["customElements","get"],[t]),whenDefined:t=>r.has(t)?Promise.resolve():eS(e,["customElements","whenDefined"],[t]),upgrade:t=>eS(e,["customElements","upgrade"],[t])}})(o,f),p.$interfaces$.map(([e,t,n,i,l])=>{let $=e5[e]?Y:"EventTarget"===t?K:"Object"===t?T:o[t],c=o[e]=k(12===i?class extends T{constructor(...t){super(),eb(this,e,t)}}:o[e]||class extends ${},e);l&&(f[l]=c),n.map(([e,t,n])=>{e in c.prototype||e in $.prototype||("string"==typeof t?A(c,e,{get(){if(!D(this,e)){let n=this[r],i=[...this[s],e],l=o[t];l&&U(this,e,new l(a,n,i))}return _(this,e)},set(t){U(this,e,t)}}):5===t?H(c,e,function(...t){return eS(this,[e],t)}):t>0&&(void 0!==n?H(c,e,n):A(c,e,{get(){return ew(this,[e])},set(t){return ev(this,[e],t)}})))})}),w("atob,btoa,crypto,indexedDB,setTimeout,setInterval,clearTimeout,clearInterval").map(t=>{delete Z.prototype[t],t in o||null==(n=e[t])||(o[t]="function"!=typeof n||n.toString().startsWith("class")?n:n.bind(e))}),Object.getOwnPropertyNames(e).map(t=>{t in o||(o[t]=e[t])}),ez.map(e=>O(o,e,{get:()=>(u(),o[e])})),"trustedTypes"in e&&(o.trustedTypes=e.trustedTypes),eV(o.Element,o.HTMLElement),eq(o.Document,B,m),(e=>{G(e,11),z(e,b)})(o.DocumentFragment),eX(o.HTMLAnchorElement,B),(e=>{P(e,{}),J(e,"elements")})(o.HTMLFormElement),eZ(o.HTMLIFrameElement),e_(o.HTMLScriptElement,B),e1(o.SVGGraphicsElement),eJ(o.HTMLHeadElement,B),eJ(o.HTMLBodyElement,B),((e,t)=>{let r={parentElement:{value:null},parentNode:{get:()=>t.$document$}};P(e,r)})(o.HTMLHtmlElement,B),eE(o,"CSSStyleSheet"),G(o.Comment,8),G(o.DocumentType,10),Object.assign(B,{$winId$:a,$parentWinId$:l,$window$:new Proxy(o,{get:(e,t)=>{var r;if("string"!=typeof t||isNaN(t))return(null===(r=p.$config$.mainWindowAccessors)||void 0===r?void 0:r.includes(t))?ew(this,[t]):e[t];{let e=q()[t];return e?e.$window$:void 0}},has:()=>!0}),$document$:M("#document",a+".d"),$documentElement$:M("HTML",a+".e"),$head$:M("HEAD",a+".h"),$body$:M("BODY",a+".b"),$location$:E,$visibilityState$:c,$isSameOrigin$:L,$isTopWindow$:W,$createNode$:M}),o.requestAnimationFrame=e=>setTimeout(()=>e(performance.now()),9),o.cancelAnimationFrame=e=>clearTimeout(e),o.requestIdleCallback=(e,t)=>(t=Date.now(),setTimeout(()=>e({didTimeout:!1,timeRemaining:()=>Math.max(0,50-(Date.now()-t))}),1)),o.cancelIdleCallback=e=>clearTimeout(e),ex(o,"localStorage",g,L,B),ex(o,"sessionStorage",h,L,B),L||(o.indexeddb=void 0),d)i={},o.history={pushState(e){i=e},replaceState(e){i=e},get state(){return i},length:0},o.indexeddb=void 0;else{let e=o.history.pushState.bind(o.history),t=o.history.replaceState.bind(o.history);o.history.pushState=(t,r,n)=>{!1!==B.$propagateHistoryChange$&&e(t,r,n)},o.history.replaceState=(e,r,n)=>{!1!==B.$propagateHistoryChange$&&t(e,r,n)}}o.Worker=void 0}addEventListener(...e){"load"===e[0]?B.$runWindowLoadEvent$&&setTimeout(()=>e[1]({type:"load"})):eS(this,["addEventListener"],e,2)}get body(){return B.$body$}get document(){return B.$document$}get documentElement(){return B.$documentElement$}fetch(e,t){return e="string"==typeof e||e instanceof URL?String(e):e.url,fetch(ek(B,e,"fetch"),t)}get frames(){return B.$window$}get frameElement(){return W?null:F(l,a,"IFRAME")}get globalThis(){return B.$window$}get head(){return B.$head$}get length(){return q().length}get location(){return E}set location(e){E.href=e+""}get Image(){return eP(B)}get navigator(){return(e=>{let t;let r={sendBeacon:(t,r)=>{if(p.$config$.logSendBeaconRequests)try{ea(`sendBeacon: ${ek(e,t,null)}${r?", data: "+JSON.stringify(r):""}`)}catch(e){console.error(e)}try{return fetch(ek(e,t,null),{method:"POST",body:r,mode:"no-cors",keepalive:!0}),!0}catch(e){return console.error(e),!1}}};for(t in navigator)r[t]=navigator[t];return new Proxy(r,{set:(e,t,r)=>(navigator[t]=r,!0)})})(B)}get origin(){return E.origin}set origin(e){}get parent(){for(let e in f)if(f[e].$winId$===l)return f[e].$window$;return B.$window$}postMessage(...e){f[e[0]]&&(C(u)>50&&u.splice(0,5),u.push({$winId$:e[0],$data$:JSON.stringify(e[1])}),e=e.slice(1)),eS(this,["postMessage"],e,3)}get self(){return B.$window$}get top(){for(let e in f)if(f[e].$isTopWindow$)return f[e].$window$;return B.$window$}get window(){return B.$window$}get XMLHttpRequest(){let e=XMLHttpRequest,t=String(e),r=k(class extends e{open(...e){e[1]=ek(B,e[1],"xhr"),super.open(...e)}set withCredentials(e){}toString(){return t}},R(e));return r.prototype.constructor.toString=()=>t,r}},"Window"),Y=class extends T{constructor(e,t,r,n){return super(e,t,r,n),new Proxy(this,{get:(e,t)=>ew(e,[t]),set:(e,t,r)=>(ev(e,[t],r),!0)})}},K=class extends T{};return M.map(e=>K.prototype[e]=function(...t){return eS(this,[e],t,2)}),J(Z,"devicePixelRatio"),V(Z),X(Z,["getComputedStyle"]),new Z,B},e5={DOMStringMap:1,NamedNodeMap:1},e7=({$winId$:e,$parentWinId$:t,$url$:r,$visibilityState$:n},i,s)=>{if(!f[e]){f[e]=e4(e,t,r,n,i,s);{let r=e===t?"top":"iframe";ea(`Created ${r} window ${e$(e)} environment`,e)}}return p.$postMessage$([7,e]),f[e]},e8=[],e6=t=>{let r=t.data,n=r[0],i=r[1];if(p.$isInitialized$){if(7===n)(async e=>{let t,r=e.$winId$,n=e.$instanceId$,i=F(r,n,"SCRIPT"),s=e.$content$,o=e.$url$,a=e.$orgUrl$,l="",$=f[r],c=["text/jscript","text/javascript","text/x-javascript","application/javascript","application/x-javascript","text/ecmascript","text/x-ecmascript","application/ecmascript"];if(o)try{if(o=eO($,o,"script")+"",U(i,4,o),p.$config$.logScriptExecution&&ea(`Execute script src: ${a}`,r),(t=await fetch(o)).ok){let e=t.headers.get("content-type");c.some(t=>{var r,n,i;return null===(i=null===(r=null==e?void 0:e.toLowerCase)||void 0===r?void 0:(n=r.call(e)).includes)||void 0===i?void 0:i.call(n,t)})&&(s=await t.text(),$.$currentScriptId$=n,eW($,s,a||o)),ej(i,"load")}else l=t.statusText,ej(i,"error")}catch(e){console.error(e),l=String(e.stack||e),ej(i,"error")}else s&&(l=eR($,n,s,r,l));$.$currentScriptId$="",p.$postMessage$([6,r,n,l])})(i);else if(9===n)(({$winId$:e,$instanceId$:t,$refId$:r,$thisArg$:n,$args$:i})=>{if(c[r])try{c[r].apply(ee(e,t,[],n),ee(e,t,[],i))}catch(e){console.error(e)}})(i);else if(10===n)(({$winId$:e,$forward$:t,$args$:r})=>{try{let n=f[e].$window$,i=0,s=C(t);for(;i<s;i++)i+1<s?n=n[t[i]]:n[t[i]].apply(n,ee(null,e,[],r))}catch(e){console.error(e)}})(i);else if(5===n)e7(i);else if(8===n){if(1!==f[i].$isInitialized$){let e=f[i],t=e.$winId$===e.$parentWinId$?"top":"iframe";ea(`Initialized ${t} window ${e$(i)} environment ðŸŽ‰`,i)}f[i].$isInitialized$=1,f[i].$isLoading$=0}else if(14===n)f[i].$visibilityState$=r[2];else if(13===n){let e=i.$winId$,t=f[e];t.$location$.href=i.url,function(e,t,r){let n=t.$window$.history;switch(r.type){case 0:t.$propagateHistoryChange$=!1;try{n.pushState(r.state,"",r.newUrl)}catch(e){}t.$propagateHistoryChange$=!0;break;case 1:t.$propagateHistoryChange$=!1;try{n.replaceState(r.state,"",r.newUrl)}catch(e){}t.$propagateHistoryChange$=!0}}(i.$winId$,t,i)}else 15===n&&((e,t,r,n,i)=>{let s=F(t,r);s&&"function"==typeof s[n]&&s[n].apply(s,i)})(...r)}else 1===n?((t=>{let r=p.$config$=JSON.parse(t.$config$),n=t.$origin$;p.$importScripts$=importScripts.bind(e),p.$interfaces$=t.$interfaces$,p.$libPath$=t.$libPath$,p.$origin$=n,p.$postMessage$=postMessage.bind(e),p.$sharedDataBuffer$=t.$sharedDataBuffer$,g.set(n,t.$localStorage$),h.set(n,t.$sessionStorage$),e.importScripts=void 0,delete e.postMessage,delete e.WorkerGlobalScope,w("resolveUrl,get,set,apply").map(e=>{r[e]&&(r[e]=Function("return "+r[e])())})})(i),p.$postMessage$([2])):3===n?(p.$interfaces$=[...p.$interfaces$,...i],p.$isInitialized$=1,ea("Initialized web worker"),p.$postMessage$([4]),e8.length&&ea(`Queued ready messages: ${e8.length}`),[...e8].map(e6),e8.length=0):e8.push(t)};e.onmessage=e6,postMessage([0])})(self);