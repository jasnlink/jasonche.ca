(e=>{let t;let n=e=>"object"==typeof e&&e&&e.then,r=()=>{},o=e=>e.length,i=e=>{var t,n,r;try{let n=null===(t=null==e?void 0:e.constructor)||void 0===t?void 0:t.name;if(n)return n}catch(e){}try{let t=null===(r=null===(n=null==e?void 0:e.__zone_symbol__originalInstance)||void 0===n?void 0:n.constructor)||void 0===r?void 0:r.name;if(t)return t}catch(e){}return""},a=(e,t)=>e.startsWith(t),s=e=>!(a(e,"webkit")||a(e,"toJSON")||a(e,"constructor")||a(e,"toString")||a(e,"_")),d=e=>11===e.nodeType&&e.host?"#s":e.nodeName,l=()=>Math.round(Math.random()*Number.MAX_SAFE_INTEGER).toString(36),c=(e,t)=>Object.defineProperty(e,"name",{value:t,configurable:!0}),p={Anchor:"a",DList:"dl",Image:"img",OList:"ol",Paragraph:"p",Quote:"q",TableCaption:"caption",TableCell:"td",TableCol:"colgroup",TableRow:"tr",TableSection:"tbody",UList:"ul"},$={Graphics:"g",SVG:"svg"},u=Symbol(),m=Symbol(),w=new Map,f=new Map,g={},y=new WeakMap,h=(e,t)=>{if(e)return(t=y.get(e))||(t=e[u])||v(e,t=l()),t},b=(e,t,n,r,o)=>{if((n=g[e])&&n.$window$){if(e===t)return n.$window$;if(r=n.$window$.document,"d"===(o=t.split(".").pop()))return r;if("e"===o)return r.documentElement;if("h"===o)return r.head;if("b"===o)return r.body}return w.get(t)},v=(e,t,n)=>{e&&(w.set(t,e),e[u]=t,e[m]=n=Date.now(),n>I+5e3&&(w.forEach((e,t)=>{e[m]<I&&e.nodeType&&!e.isConnected&&w.delete(t)}),I=n))},I=0,S=e.parent,E=document.implementation.createHTMLDocument(),M=S.partytown||{},T=(M.lib||"/~partytown/")+"debug/",L=e=>{console.debug.apply(console,["%cMain \uD83C\uDF0E","background: #717171; color: white; padding: 2px 3px; border-radius: 2px; font-size: 0.8em;",e])},O=[],C=e=>(O.includes(e)||O.push(e),O.indexOf(e)+1),k=(e,t,n)=>{let r=c(class extends g[e].$window$.HTMLElement{},n[0]),o="connectedCallback,disconnectedCallback,attributeChangedCallback,adoptedCallback".split(",");return o.map(n=>r.prototype[n]=function(...r){t.postMessage([15,e,h(this),n,r])}),r.observedAttributes=n[1],r},R=(e,t,n,r,o,s)=>void 0!==t&&(r=typeof t)?"string"===r||"number"===r||"boolean"===r||null==t?[0,t]:"function"===r?[6]:(n=n||new Set,Array.isArray(t))?n.has(t)?[1,[]]:n.add(t)&&[1,t.map(t=>R(e,t,n))]:"object"===r?j(t)?[14,{name:t.name,message:t.message,stack:t.stack}]:""===(o=i(t))?[2,{}]:"Window"===o?[3,[e,e]]:"HTMLCollection"===o||"NodeList"===o?[7,Array.from(t).map(t=>R(e,t,n)[1])]:o.endsWith("Event")?[5,A(e,t,n)]:"CSSRuleList"===o?[12,Array.from(t).map(x)]:a(o,"CSS")&&o.endsWith("Rule")?[11,x(t)]:"CSSStyleDeclaration"===o?[13,A(e,t,n)]:"Attr"===o?[10,[t.name,t.value]]:t.nodeType?[3,[e,h(t),d(t),s]]:[2,A(e,t,n,!0,!0)]:void 0:t,A=(e,t,n,r,o,a,d,l)=>{if(a={},!n.has(t))for(d in n.add(t),t)s(d)&&(l="path"===d&&i(t).endsWith("Event")?t.composedPath():t[d],(r||"function"!=typeof l)&&(o||""!==l)&&(a[d]=R(e,l,n)));return a},x=e=>{let t,n={};for(t in e)_.includes(t)&&(n[t]=String(e[t]));return n},j=t=>t instanceof e.top.Error,P=(t,n,r,o)=>{if(n)return r=n[0],o=n[1],0===r?o:4===r?W(t,o):1===r?o.map(e=>P(t,e)):3===r?b(o[0],o[1]):5===r?N(U(t,o)):2===r?U(t,o):8===r?o:9===r?new e[n[2]](o):void 0},W=(e,{$winId$:t,$instanceId$:n,$refId$:r},o)=>((o=f.get(r))||(o=function(...o){e.postMessage([9,{$winId$:t,$instanceId$:n,$refId$:r,$thisArg$:R(t,this),$args$:R(t,o)}])},f.set(r,o)),o),N=e=>new("detail"in e?CustomEvent:Event)(e.type,e),U=(e,t,n,r)=>{for(r in n={},t)n[r]=P(e,t[r]);return n},_="cssText,selectorText,href,media,namespaceURI,prefix,name,conditionText".split(","),q=async(e,t)=>{let r,i,a,s,d,l,c={$msgId$:t.$msgId$},p=o(t.$tasks$),$=0;for(;$<p;$++)try{l=$===p-1,i=(r=t.$tasks$[$]).$winId$,a=r.$applyPath$,!g[i]&&i.startsWith("f_")&&await new Promise(e=>{let t=0,n=()=>{g[i]||t++>1e3?e():requestAnimationFrame(n)};n()}),1===a[0]&&a[1]in g[i].$window$?v(new g[i].$window$[a[1]](...P(e,a[2])),r.$instanceId$):(s=b(i,r.$instanceId$))?(d=D(e,i,s,a,l,r.$groupedGetters$),r.$assignInstanceId$&&("string"==typeof r.$assignInstanceId$?v(d,r.$assignInstanceId$):g[r.$assignInstanceId$.$winId$]={$winId$:r.$assignInstanceId$.$winId$,$window$:{document:d}}),n(d)&&(d=await d,l&&(c.$isPromise$=!0)),l&&(c.$rtnValue$=R(i,d,void 0,void 0,void 0,r.$instanceId$))):(c.$error$=`Error finding instance "${r.$instanceId$}" on window ${C(i)}`,console.error(c.$error$,r))}catch(e){l?c.$error$=String(e.stack||e):console.error(e)}return c},D=(e,t,n,r,a,s)=>{let d,l,c,p,$,u=0,m=o(r);for(;u<m;u++){l=r[u],d=r[u+1],c=r[u-1];try{if(!Array.isArray(d)){if("string"==typeof l||"number"==typeof l){if(u+1===m&&s)return $={},s.map(e=>$[e]=n[e]),$;n=n[l]}else{if(0===d){n[c]=P(e,l);return}if("function"==typeof n[c]&&(p=P(e,l),"define"===c&&"CustomElementRegistry"===i(n)&&(p[1]=k(t,e,p[1])),"insertRule"===c&&p[1]>o(n.cssRules)&&(p[1]=o(n.cssRules)),n=n[c].apply(n,p),"play"===c))return Promise.resolve()}}}catch(e){if(a)throw e;console.debug("Non-blocking setter error:",e)}}return n},F=(e,t)=>{let n,r,i,a=t.$winId$,s=t.$window$,d=s.document,l='script[type="text/partytown"]:not([data-ptid]):not([data-pterror])';if(d&&d.body){if((n=d.querySelector('script[type="text/partytown"]:not([data-ptid]):not([data-pterror]):not([async]):not([defer])'))||(n=d.querySelector(l)),n)n.dataset.ptid=r=h(n,a),i={$winId$:a,$instanceId$:r},n.src?(i.$url$=n.src,i.$orgUrl$=n.dataset.ptsrc||n.src):i.$content$=n.innerHTML,e.postMessage([7,i]);else{if(!t.$isInitialized$){t.$isInitialized$=1,((e,t,n)=>{let r,i,a=n._ptf,s=(n.partytown||{}).forward||[],d=(n,r)=>e.postMessage([10,{$winId$:t,$forward$:n,$args$:R(t,Array.from(r))}]);if(n._ptf=void 0,s.map(e=>{i=n,e.split(".").map((e,t,n)=>{i=i[n[t]]=t+1<o(n)?i[n[t]]||("push"===n[t+1]?[]:{}):(...e)=>d(n,e)})}),a)for(r=0;r<o(a);r+=2)d(a[r],a[r+1])})(e,a,s),d.dispatchEvent(new CustomEvent("pt0"));{let e=s===s.top?"top":"iframe";L(`Executed ${e} window ${C(a)} environment scripts in ${(performance.now()-t.$startTime$).toFixed(1)}ms`)}}e.postMessage([8,a])}}else requestAnimationFrame(()=>F(e,t))},z=(e,t,n)=>{if(!y.has(n)){y.set(n,t);let r=n.document,o=n.history,i=y.get(n.parent),a=!1,s=[],d=e=>{a?e():s.push(e)},l=()=>{e.postMessage([5,{$winId$:t,$parentWinId$:i,$url$:r.baseURI,$visibilityState$:r.visibilityState}]),setTimeout(()=>{a=!0,s.forEach(e=>{e()})})},c=o.pushState.bind(o),p=o.replaceState.bind(o),$=(n,o,i,a)=>()=>{setTimeout(()=>{e.postMessage([13,{$winId$:t,type:n,state:o,url:r.baseURI,newUrl:i,oldUrl:a}])})};o.pushState=(e,t,n)=>{c(e,t,n),d($(0,e,null==n?void 0:n.toString()))},o.replaceState=(e,t,n)=>{p(e,t,n),d($(1,e,null==n?void 0:n.toString()))},n.addEventListener("popstate",e=>{d($(2,e.state))}),n.addEventListener("hashchange",e=>{d($(3,{},e.newURL,e.oldURL))}),n.addEventListener("ptupdate",()=>{F(e,g[t])}),r.addEventListener("visibilitychange",()=>e.postMessage([14,t,r.visibilityState])),g[t]={$winId$:t,$window$:n},g[t].$startTime$=performance.now();{let e=t===i?"top":"iframe";L(`Registered ${e} window ${C(t)}`)}"complete"===r.readyState?l():n.addEventListener("load",l)}},G=(e,t,n)=>{4===t[0]?z(e,l(),S):(n=g[t[1]])&&(7===t[0]?requestAnimationFrame(()=>F(e,n)):6===t[0]&&((e,t,n,r,o)=>{(o=t.$window$.document.querySelector(`[data-ptid="${n}"]`))&&(r?o.dataset.pterror=r:o.type+="-x",delete o.dataset.ptid),F(e,t)})(e,n,t[2],t[3]))},H=()=>{let e=E.createElement("i"),t=E.createTextNode(""),n=E.createComment(""),r=E.createDocumentFragment(),o=E.createElement("p").attachShadow({mode:"open"}),i=Z(S,"IntersectionObserver"),a=Z(S,"MutationObserver"),s=Z(S,"ResizeObserver"),d=S.performance,l=S.screen,c=[[S.history],[d],[d.navigation],[d.timing],[l],[l.orientation],[S.visualViewport],[i,12],[a,12],[s,12],[t],[n],[r],[o],[e],[e.attributes],[e.classList],[e.dataset],[e.style],[E],[E.doctype]],p=[X("Window",S),X("Node",t)],$=JSON.stringify(M,(e,t)=>("function"==typeof t&&(t=String(t)).startsWith(e+"(")&&(t="function "+t),t)),u={$config$:$,$interfaces$:Q(c,p),$libPath$:new URL(T,S.location)+"",$origin$:origin,$localStorage$:Y("localStorage"),$sessionStorage$:Y("sessionStorage")};return ee(u.$interfaces$,S,"IntersectionObserverEntry"),u},V=()=>{let e=Object.getOwnPropertyNames(S).map(e=>((e,t,n,r)=>{if(n=t.match(/^(HTML|SVG)(.+)Element$/))return r=n[2],"S"==t[0]?e.createElementNS("http://www.w3.org/2000/svg",$[r]||r.slice(0,2).toLowerCase()+r.slice(2)):e.createElement(p[r]||r)})(E,e)).filter(e=>e).map(e=>[e]);return Q(e,[])},J=new Set(["Object"]),Q=(e,t)=>{let n=e.filter(e=>e[0]).map(e=>{let t=e[0],n=e[1],r=i(t),o=S[r].prototype;return[r,o,t,n]});return n.map(([e,n,r,o])=>B(J,t,e,n,r,o)),t},X=(e,t,n)=>{let r=[],o=[e,"Object",r];for(n in t)K(r,t,n);return o},B=(e,t,n,r,o,a)=>{if(!e.has(n)){e.add(n);let s=Object.getPrototypeOf(r),l=i(s),c=[],p=Object.getOwnPropertyDescriptors(r);for(let n in B(e,t,l,s,o,a),p)K(c,o,n);t.push([n,l,c,a,d(o)])}},K=(e,t,n,r,o,a)=>{try{s(n)&&isNaN(n[0])&&"all"!==n&&(o=typeof(r=t[n]),"function"===o?(String(r).includes("[native")||Object.getPrototypeOf(t)[n])&&e.push([n,5]):"object"===o&&null!=r?(a=i(r),"Object"!==a&&self[a]&&e.push([n,r.nodeType||a])):"symbol"!==o&&(n.toUpperCase()===n?e.push([n,6,r]):e.push([n,6])))}catch(e){console.warn(e)}},Y=e=>{let t,n=[],r=0,i=o(S[e]);for(;r<i;r++)n.push([t=S[e].key(r),S[e].getItem(t)]);return n},Z=(e,t)=>void 0!==e[t]?new e[t](r):0,ee=(e,t,n)=>{void 0!==t[n]&&e.push([n,"Object",Object.keys(t[n].prototype).map(e=>[e,6]),12])};(t=>{let n=e.navigator.serviceWorker;return n.getRegistration().then(e=>(n.addEventListener("message",n=>t(n.data,t=>e.active&&e.active.postMessage(t))),(e,t)=>{0===t[0]?e.postMessage([1,H()]):2===t[0]?e.postMessage([3,V()]):G(e,t)}))})((e,n)=>q(t,e).then(n)).then(e=>{e&&((t=new Worker(T+"partytown-ww-sw.js?v=0.8.0",{name:"Partytown \uD83C\uDF89"})).onmessage=n=>{let r=n.data;12===r[0]?q(t,r[1]):e(t,r)},L("Created Partytown web worker (0.8.0)"),t.onerror=e=>console.error("Web Worker Error",e),S.addEventListener("pt1",e=>z(t,h(e.detail.frameElement),e.detail)))})})(window);